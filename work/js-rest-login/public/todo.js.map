{"version":3,"sources":["webpack://samples/./src/services.js","webpack://samples/webpack/bootstrap","webpack://samples/webpack/runtime/define property getters","webpack://samples/webpack/runtime/hasOwnProperty shorthand","webpack://samples/webpack/runtime/make namespace object","webpack://samples/./src/todo.js"],"names":["checkLoginStatus","fetch","method","Promise","reject","error","then","response","ok","console","log","json","err","performLogin","username","headers","Headers","body","JSON","stringify","deleteItem","itemId","fetchLogout","fetchPostToAddItem","item","fetchPatchRanking","itemsId","fetchGet","convertError","appSate","pollId","isLoggedIn","items","ascending","descending","userInfo","showContent","todos","poll","updateStatus","renderTodos","errorMessages","showLogin","addLogin","document","querySelector","classList","add","remove","addEventListener","usernameEl","value","message","status","innerText","listEl","inputEl","addButtonEl","logoutButtonEL","sortAscButtonEl","sortDescButtonEL","addAbilityToDeleteItems","pageLogout","buttondisableIfNoInput","addAbilityToAddItems","addAbilityToChangeRanking","addAbilityToSortAscendinf","abilityToSortItems","addAbilityToSortDescending","addAbilityToUpdateItem","html","Object","keys","map","key","task","ranking","join","innerHTML","shouldpoll","setInterval","clearTimeout","e","target","contains","dataset","id","disabled","regrex","match","SortedItem","fromEntries","entries","sort","a","b"],"mappings":"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","file":"todo.js","sourcesContent":["export const checkLoginStatus = function() {\n  return fetch('/session', {\n    method: 'GET',\n  })\n  .catch( () => {\n    return Promise.reject({ error: 'network-error' });\n   })\n  .then( response => {\n    if(response.ok) \n    {\n      console.log(\"Response - \"+response);\n      return response.json();\n    }\n    return response.json().then( err => Promise.reject(err) );\n  });\n};\n\nexport const performLogin = function( username ) {\n  return fetch('/session', {\n    method: 'POST',\n    headers: new Headers({\n      'content-type': 'application/json',\n    }),\n    body: JSON.stringify({ username }),\n  })\n  .catch( () => {\n    return Promise.reject({ error: 'network-error' });\n   })\n  .then( response => {\n    if(response.ok) {\n      return response.json();\n    }\n    return response.json().then( err => Promise.reject(err) );\n  });\n};\n\nexport const deleteItem = function( itemId ) \n{\n  return fetch(`/items/${itemId}`, {\n    headers: { 'Content-type': 'application/json' },\n    method:'DELETE',\n  })\n  .catch( () => Promise.reject( { error: 'network-error' }))\n  .then( response => {\n    if(response.ok) {\n      return response.json();\n    }\n    return response.json().then( err => Promise.reject(err) );\n  });\n\n};\n\nexport const fetchLogout = function ()\n{\n    return fetch(`/session`, {\n      headers: { 'Content-type': 'application/json' },\n      method:'DELETE',\n    })\n    .catch( () => Promise.reject( { error: 'network-error' }))\n    .then( response => {\n      if(response.ok) {\n        return response.json();\n      }\n      return response.json().then( err => Promise.reject(err) );\n    });\n\n};\n\nexport const fetchPostToAddItem = function(item)\n{\n    return fetch('/items/', {\n      method:'POST',\n      body: JSON.stringify(item),\n      headers: { 'Content-type': 'application/json' },\n      \n  })\n  .catch( () => Promise.reject( { error: 'network-error' }) )\n  .then( response => {\n    if(response.ok) {\n      return response.json();\n    }\n    return response.json().then( err => Promise.reject(err) );\n  });\n}\n\nexport const fetchPatchRanking = function(item,itemsId)\n{\n  return fetch(`/items/${itemsId}`, {\n    body: JSON.stringify(item),\n    headers: { 'Content-type': 'application/json' },\n    method: 'PATCH',\n    })\n    .catch( () => Promise.reject( { error: 'duplicate' }) )\n    .then( response => {\n      if(response.ok) {\n        return response.json();\n      }\n      return response.json().then( err => Promise.reject(err) );\n    });\n}\n\nexport const fetchGet = function()\n{\n   return fetch(`/items/` , {\n    headers: { 'Content-type': 'application/json' },\n    method: 'GET',\n   })\n   .catch( () => Promise.reject( { error: 'network-error' }) )\n    .then( response => {\n      if(response.ok) {\n        return response.json();\n      }\n      return response.json().then( err => Promise.reject(err) );\n    });\n\n}\n\nfunction convertError(response)\n    {\n        if(response.ok)\n        {\n            return response.json();\n        }\n        return response.json()\n        .then(err => Promise.reject(err));\n    }\n\n\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tif(__webpack_module_cache__[moduleId]) {\n\t\treturn __webpack_module_cache__[moduleId].exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","import {\n  checkLoginStatus,\n  performLogin,\n  deleteItem,\n  fetchLogout,\n  fetchPostToAddItem,\n  fetchPatchRanking,\n  fetchGet\n} from './services';\n\nconst appSate = {\n  pollId :null,\n  isLoggedIn:false,\n  items:{},\n  username : '',\n  ascending: false,\n  descending : false,\n\n}; // TODO - should be object, not array\n\n\n// Check for login\ncheckLoginStatus()\n.then( (userInfo) => {\n  showContent();\n  appSate.items = userInfo.todos;\n  poll(true);\n  updateStatus('');\n  renderTodos(appSate.items);\n})\n.catch( err => {\n  updateStatus(errorMessages[err.error] || err.error);\n  if(!appSate.isLoggedIn)\n  {\n    showLogin();\n  }\n  \n});\n\naddLogin();\n// TODO: Move these HTML-changing functions to an import from another file\nfunction showContent() {\n  document.querySelector('#todo-app .login').classList.add('hidden');\n  document.querySelector('#todo-app .logged-in').classList.remove('hidden');\n}\n\nfunction showLogin() {\n  document.querySelector('#todo-app .login').classList.remove('hidden');\n  document.querySelector('#todo-app .logged-in').classList.add('hidden');\n}\n\nfunction addLogin() {\n  document.querySelector('#todo-app .login button').addEventListener('click', () => {\n    const usernameEl = document.querySelector('#todo-app .login input');\n    const username = usernameEl.value;\n    // call service\n    performLogin(username)\n    .then( userInfo => {\n      showContent();\n      appSate.isLoggedIn = true;\n      appSate.items = userInfo.todos;\n      appSate.username = userInfo.username;\n      usernameEl.value='';\n      updateStatus('');\n      poll(true);\n      renderTodos(appSate.items);\n    })\n    .catch( err => {\n      updateStatus(errorMessages[err.error] || err.error);\n      console.log(err);\n    })\n  });\n}\n\nconst errorMessages = {\n  'duplicate': 'Duplicate Item!',\n  'missing-username': 'Username field empty',\n  'network-error': 'There was a problem connecting to the network, try again',\n  'missing-value' : 'Value is not generated',\n  'not-found': 'Item does not exist',\n  'login-required' : 'SID is missing or empty',\n  'login-invalid' : 'Bad login',\n  'missing-sid' : 'sid is missing',\n  'sid-unknown': 'SID is unknown',\n  'no-sid-generated' : 'SID not generated',\n  'missing-id' : 'ItemId is missing',\n  'username-missing' : 'username was empty',\n  'invalid-username' : 'username contained disallowed characters',\n \n};\n\nfunction updateStatus( message ) \n{\n  status.innerText = message;\n};\n\nconst listEl = document.querySelector('#todo-app .todos');\nconst inputEl = document.querySelector('.to-add');\nconst addButtonEl = document.querySelector('.add');\nconst status = document.querySelector('.status');\nconst logoutButtonEL = document.querySelector('.logout');\nconst sortAscButtonEl = document.querySelector('.sort-ascending');\nconst sortDescButtonEL = document.querySelector('.sort-descending');\n\naddAbilityToDeleteItems();\npageLogout();\nbuttondisableIfNoInput();\naddAbilityToAddItems();\naddAbilityToChangeRanking();\naddAbilityToSortAscendinf();\nabilityToSortItems();\naddAbilityToSortDescending();\naddAbilityToUpdateItem();\n\nfunction renderTodos(items)\n{\n  //const listEl = document.querySelector('#todo-app .todos');\n  const html = Object.keys(items).map( (key) =>\n  {\n      const item = items[key];\n      return `\n          <li>\n          \n              <div class=\"delete-button\">\n                  <button class=\"delete\" data-id=\"${item.itemId}\">X</button>\n              </div>\n              <div class=\"description\">\n                  <span class=\"item\" data-id=\"${item.itemId}\"> \n                      ${item.task}\n                  </span>\n              </div>\n              \n              <div class=\"list-count\">\n                  <button class=\"minus\" data-id=\"${item.itemId}\" ${item.ranking==1 ? \"disabled\":\"\"} > - </button>\n                  <span class=\"item item-count\" data-id=\"${item.itemId}\" >\n                      ${item.ranking}\n                  </span>\n                  <button class=\"plus\" data-id=\"${item.itemId}\" ${item.ranking==5 ? \"disabled\":\"\"}> + </button>\n              </div>\n          \n          </li>\n      `;\n  }).join('');\n  listEl.innerHTML = html;\n}\n\nfunction poll(shouldpoll)\n{\n  if(shouldpoll && !appSate.pollId )\n  {\n    appSate.pollId = setInterval( ()=>\n    {\n        fetchGet()\n        .then (userInfo => \n          {\n            showContent();\n            appSate.items = userInfo.todos;\n            abilityToSortItems();\n            renderTodos(appSate.items);\n            updateStatus('');\n          })\n          .catch( err => {\n            updateStatus(errorMessages[err.error] || err.error);\n            console.log(err);\n          })\n    }, 5000);\n  }\n  if(!shouldpoll && appSate.pollId)\n  {\n    clearTimeout(appSate.pollId);\n    appSate.pollId=null;\n    appSate.ascending=false;\n  }\n}\n\n\n\nfunction  addAbilityToDeleteItems()\n{\n    listEl.addEventListener('click' , (e) =>\n    {\n      if(e.target.classList.contains('delete'))\n      {\n        const itemId = e.target.dataset.id;\n        deleteItem(itemId)\n        .then (userInfo => \n          {\n            showContent();\n            appSate.items = userInfo.todos;\n            abilityToSortItems();\n            renderTodos(appSate.items);\n            updateStatus('');\n          })\n          .catch( err => {\n            updateStatus(errorMessages[err.error] || err.error);\n            console.log(err);\n          })\n      }\n    })\n}\n\nfunction pageLogout()\n{\n    logoutButtonEL.addEventListener('click' , (e) =>\n    {\n        fetchLogout()\n        .then ( () =>\n        {\n          appSate.isLoggedIn = false;\n          poll(false);\n          updateStatus('');\n          showLogin();\n        })\n        .catch( err => {\n          appSate.isLoggedIn=false;\n          appSate.ascending=false;\n          poll(false);\n          updateStatus(errorMessages[err.error] || err.error);\n          showLogin();\n        })\n        \n    });\n}\n\nfunction buttondisableIfNoInput()\n{\n  inputEl.addEventListener('input',() => \n    {\n      addButtonEl.disabled = !inputEl.value;\n        \n    });\n}\n\nfunction addAbilityToAddItems()\n{\n  addButtonEl.addEventListener('click' , (e) =>\n  {\n     const task = inputEl.value;\n     const regrex = /^[a-zA-z0-9]+$/;\n     const item = { task:task,\n                    username: appSate.username,\n                    };\n        if(!task.match(regrex))\n        {\n            updateStatus(\"Please enter correct name!\");\n        }\n        else\n        {\n            fetchPostToAddItem(item)\n            .then (userInfo => \n              {\n                showContent();\n                appSate.items = userInfo.todos;\n                abilityToSortItems();\n                renderTodos(appSate.items);\n                inputEl.value='';\n                updateStatus('');\n              })\n              .catch( err => {\n                updateStatus(errorMessages[err.error] || err.error);\n                console.log(err);\n              })\n        }\n  })\n}\n\nfunction addAbilityToChangeRanking()\n{\n  listEl.addEventListener('click', (e) => \n    {\n        const itemsId = e.target.dataset.id;\n              \n        if(e.target.classList.contains('plus'))\n        {\n            const item = {\n                value: \"increment\",\n                username: appSate.username,\n            };\n            fetchPatchRanking(item,itemsId)\n            .then (item => \n              {\n                showContent();\n                addAbilityToUpdateItem(item);\n                abilityToSortItems();\n                renderTodos(appSate.items);\n                updateStatus('');\n              })\n              .catch( err => {\n                updateStatus(errorMessages[err.error] || err.error);\n                console.log(err);\n              });\n        }\n        if(e.target.classList.contains('minus'))\n        {\n\n            const item = {\n                value: \"decrement\",\n                username: appSate.username,\n            };\n            fetchPatchRanking(item,itemsId)\n            .then (item => \n              {\n                showContent();\n                addAbilityToUpdateItem(item);                \n                abilityToSortItems();\n                renderTodos(appSate.items);\n                updateStatus('');\n              })\n              .catch( err => {\n                updateStatus(errorMessages[err.error] || err.error);\n                console.log(err);\n              });\n        }\n        \n    })\n}\n\nfunction addAbilityToUpdateItem(item)\n{\n  for(let key in appSate.items)\n  {\n    if(key==item.itemId)\n    {\n      appSate.items[key].ranking = item.ranking;\n    }\n    };\n}\n\nfunction addAbilityToSortAscendinf()\n{\n  sortAscButtonEl.addEventListener('click' ,(e) => \n  {\n    appSate.ascending=true;\n    appSate.descending=false;\n    abilityToSortItems();\n    renderTodos(appSate.items);\n  });\n}\n\nfunction addAbilityToSortDescending()\n{\n  sortDescButtonEL.addEventListener('click' ,(e) => \n  {\n    appSate.descending=true;\n    appSate.ascending=false;\n    abilityToSortItems();\n    renderTodos(appSate.items);\n  });\n}\n\nfunction abilityToSortItems()\n  {\n      if(appSate.ascending)\n      {\n        appSate.descending=false;\n        const SortedItem = Object.fromEntries(Object.entries(appSate.items).sort( (a,b) => a[1].ranking- b[1].ranking));\n        appSate.items = SortedItem;\n        \n      }\n\n      if(appSate.descending)\n      {\n        appSate.ascending=false;\n        const SortedItem = Object.fromEntries(Object.entries(appSate.items).sort( (a,b) => b[1].ranking- a[1].ranking));\n        appSate.items = SortedItem;\n      }\n      \n  }\n   \n\n\n\n\n"],"sourceRoot":""}